# 🧩 拼图游戏

一个现代化、响应式的经典拼图游戏，使用纯 HTML、CSS 和 JavaScript 构建。

## ✨ 特性

- 🎮 **经典玩法** - 传统的滑动拼图游戏
- 🎨 **精美界面** - 现代化 UI 设计，渐变色彩
- 📱 **响应式设计** - 完美适配手机、平板和桌面
- 🎯 **多种难度** - 3×3、4×4、5×5 难度选择
- ⏱️ **计时功能** - 实时计时器
- 📊 **步数统计** - 记录移动步数
- 👁️ **预览功能** - 可查看原图或数字排列预览
- 🔄 **随机打乱** - 智能打乱算法确保可解
- ⏸️ **暂停/继续** - 游戏过程中可暂停，计时器自动停止
- 🖼️ **自定义图片** - 支持上传自己的图片进行拼图
- 🔒 **防误操作** - 游戏进行中切换难度需确认

## 🎮 如何游玩

### 数字模式
1. **选择难度** - 在顶部选择 3×3、4×4 或 5×5 难度
2. **移动方块** - 点击空白方块相邻的方块进行移动
3. **完成拼图** - 将所有数字按顺序排列（1、2、3...）
4. **预览原图** - 点击预览按钮查看完整排列
5. **重新开始** - 点击刷新按钮重新打乱

### 图片模式
1. **上传图片** - 点击上传按钮选择你喜欢的图片
2. **选择难度** - 图片会自动根据难度分割
3. **移动方块** - 点击与空白块相邻的图片碎片进行移动
4. **预览原图** - 点击预览按钮查看完整原图
5. **重新开始** - 点击刷新按钮重新打乱

### 游戏控制
- **⏸️ 暂停按钮** - 暂停/继续游戏，暂停时计时器停止
- **🔄 重新开始** - 重新打乱方块
- **👁️ 预览** - 查看原图预览或数字排列预览

## 🎯 游戏目标

将所有方块按照正确顺序排列，空白方块位于右下角即完成拼图。

## 🚀 在线游玩

🎮 **游戏地址：** https://barbaracheng.github.io/puzzle-game/

## 🛠️ 本地运行

1. 克隆仓库：
```bash
git clone https://github.com/barbaracheng/puzzle-game.git
cd puzzle-game
```

2. 直接打开 `index.html` 文件，或者使用本地服务器：

```bash
# 使用 Python 3
python -m http.server 8000

# 使用 Node.js
npx serve
```

3. 在浏览器中访问 `http://localhost:8000`

## 🏗️ 技术栈

- **HTML5** - 页面结构
- **CSS3** - 样式和动画
- **JavaScript (ES6+)** - 游戏逻辑
- **Canvas API** - 图片分割处理

## 🧠 游戏逻辑

- **可解性保证** - 使用逆序数算法确保打乱的拼图必定可解
- **移动判断** - 只允许与空白方块相邻的方块移动
- **胜利检测** - 实时检测方块顺序，完成时自动触发胜利动画
- **图片分割** - 使用 Canvas API 将上传的图片分割为网格
- **防误操作** - 游戏进行中切换难度时弹出确认提示

## 📱 移动端优化

- 防止页面滚动，提供流畅的游戏体验
- 响应式布局，自动适配不同屏幕尺寸
- 触摸友好的按钮和交互
- 暂停功能支持游戏中途离开

## 🎨 界面特色

- **渐变背景** - 深色主题，护眼舒适
- **动画效果** - 方块移动、胜利弹窗等流畅动画
- **高对比度** - 清晰可见的数字和按钮
- **现代配色** - 紫色渐变主色调
- **暂停状态** - 暂停时棋盘半透明，禁止点击

## 🐛 修复记录

### v1.1.0 (2025-02-03)

#### Bug 修复：
1. ✅ **切换难度时格子数量不变** - 修复 `resetGame()` 方法，切换难度时重新创建棋盘
2. ✅ **没有暂停按钮** - 添加暂停/继续按钮，实现暂停功能（计时器停止，棋盘禁用）
3. ✅ **游戏过程中还能切换难度** - 添加确认提示，防止游戏进行中误操作
4. ✅ **点击移动位置不对** - 重构 `moveTile()` 方法，正确交换方块值和 DOM 内容
5. ✅ **不支持上传图片** - 添加图片上传功能，使用 Canvas API 分割图片
6. ✅ **预览图片功能没有用** - 实现预览功能（上传图片时显示原图，否则显示数字排列）

#### 新增功能：
- 图片上传和自动分割
- 暂停/继续游戏功能
- 难度切换确认提示
- 改进的预览功能

## 📄 许可证

MIT License - 自由使用和修改

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

---

享受游戏吧！🎮✨
